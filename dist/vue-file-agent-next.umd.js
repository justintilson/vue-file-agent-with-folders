(function(y,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],n):(y=typeof globalThis<"u"?globalThis:y||self,n(y["vue-file-agent-next"]={},y.Vue))})(this,function(y,n){"use strict";var tt=Object.defineProperty;var it=(y,n,R)=>n in y?tt(y,n,{enumerable:!0,configurable:!0,writable:!0,value:R}):y[n]=R;var g=(y,n,R)=>(it(y,typeof n!="symbol"?n+"":n,R),R);const R={audio:["aif","cda","mid","midi","mpa","wma","wpl"],"audio-playable":["mp3","ogg","wav"],archive:["7z","arj","deb","pkg","rar","rpm","tar.gz","z","zip"],disc:["dmg","iso","toast","vcd"],database:["csv","dat","db","dbf","log","mdb","sav","sql","tar"],executable:["apk","bat","bin","cgi","pl","com","exe","gadget","jar","py","wsf","ipa"],font:["fnt","fon","otf","ttf"],image:["ai","bmp","gif","ico","jpeg","jpg","png","ps","psd","svg","tif","tiff"],markup:["asp","aspx","cer","cfm","cgi","pl","css","scss","htm","html","jsp","part","php","py","rss","xml","xhtml"],presentation:["key","odp","pps","ppt","pptx"],script:["c","class","cpp","cs","h","java","js","json","sh","swift","vb"],sheet:["ods","xlr","xls","xlsx"],system:["bak","cab","cfg","cpl","cur","dll","dmp","drv","icns","ini","lnk","msi","sys","tmp"],video:["3g2","3gp","avi","flv","h264","mkv","mpg","mpeg","rm","swf","vob","wmv"],"video-playable":["mp4","webm","mov"],vue:["vue"],doc:["doc","docx","odt","rtf","tex","wks","wps","wpd"],text:["txt"],ebook:["epub"],pdf:["pdf"],folder:["folder"],play:["play"]};class w{constructor(t,i,s){g(this,"category","");this.paths=t,this.color=i,this.viewBox=s}}const q=["M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z"],z={folder:new w(["M96.5 93.7h-93c-2 0-3.5-1.5-3.5-3.5V35.4h100v54.8c0 2-1.5 3.5-3.5 3.5z","M44.9 20V9.7c0-2-1.5-3.5-3.5-3.5h-38C1.5 6.3 0 7.8 0 9.7v25.7h100V23.5c0-2-1.5-3.5-3.5-3.5H44.9z"],"#efce4a"),audio:new w(["M32.5 37.5h-9v25h9L53.6 77V23L32.5 37.5M71.9 50c0 6.8-3.7 12.7-9.1 15.8l2.8 4.9c7.1-4.1 11.9-11.8 11.9-20.7 0-8.8-4.8-16.6-11.9-20.7l-2.8 4.9c5.4 3.1 9.1 9 9.1 15.8z","M62.1 50c0 3.2-1.7 5.9-4.3 7.4l2.7 4.7c4.2-2.4 7-6.9 7-12.1 0-5.2-2.8-9.7-7-12.1l-2.7 4.7c2.6 1.5 4.3 4.2 4.3 7.4z"],"#039"),video:new w(["M21 26.4v47.1h58V26.4H21zm10.9 43.5h-7.2v-7.2h7.2v7.2zm0-10.8h-7.2v-7.2h7.2v7.2zm0-10.9h-7.2V41h7.2v7.2zm0-10.9h-7.2v-7.2h7.2v7.2zm10.9 25.4V37.3L60.9 50 42.8 62.7zm32.6 7.2h-7.2v-7.2h7.2v7.2zm0-10.8h-7.2v-7.2h7.2v7.2zm0-10.9h-7.2V41h7.2v7.2zm0-10.9h-7.2v-7.2h7.2v7.2z"],"#ef6f2e"),"audio-playable":new w(q,"#039","0 0 48 48"),"video-playable":new w(q,"#ef6f2e","0 0 48 48"),archive:new w(["M72.4 38.5h-7.9v-7.9l7.9 7.9zm-21.3-7.9v28.8h21.4v-19h-9.9v-9.9H51.1zm3.3-7.6H30.8v5.6h9.3l-5.9 4.5v4.8l8.6-6.6v-2.7h30.1v-2.3L54.4 23zM42.9 35.1l-8.6 6.6v4.8l8.6-6.6v-4.8zm-8.7 20l8.6-6.6v-4.8l-8.6 6.6v4.8zm8.7 2v-4.8l-8.6 6.6v2.6h-3.4v5.6h5.3v3.8H33c-.6-1-1.6-1.6-2.8-1.6-1.8 0-3.2 1.4-3.2 3.2s1.4 3.2 3.2 3.2c1.2 0 2.2-.6 2.8-1.6h3.1V77h4.8v-2.9H44c.6 1 1.6 1.6 2.8 1.6 1.8 0 3.2-1.4 3.2-3.2s-1.4-3.2-3.2-3.2c-1.2 0-2.2.6-2.8 1.6h-3.1v-3.8h13.5l18.5-3.3v-2.3H37.1l5.8-4.4z"],"#ba8322"),system:new w(["M73.6 54.8c-2.1-.7-3.4-2.6-3.4-4.8s1.4-4.1 3.4-4.8c.6-.2 1-.9.8-1.5-.6-2.3-1.5-4.4-2.7-6.5-.3-.6-1.1-.8-1.7-.5-.7.4-1.6.6-2.4.6-2.8 0-5-2.3-5-5 0-.8.2-1.7.6-2.4.3-.6.1-1.3-.5-1.7-2-1.2-4.2-2.1-6.5-2.7-.6-.2-1.3.2-1.5.8-.7 2.1-2.6 3.4-4.8 3.4-2.2 0-4.1-1.4-4.8-3.4-.2-.6-.9-1-1.5-.8-2.3.6-4.4 1.5-6.5 2.7-.6.3-.8 1.1-.5 1.7.4.7.6 1.6.6 2.4 0 2.8-2.3 5-5 5-.8 0-1.7-.2-2.4-.6-.6-.3-1.3-.1-1.7.5-1.2 2-2.1 4.2-2.7 6.5-.2.6.2 1.3.8 1.5 2.1.7 3.4 2.6 3.4 4.8s-1.4 4.1-3.4 4.8c-.6.2-1 .9-.8 1.5.6 2.3 1.5 4.4 2.7 6.5.3.6 1.1.8 1.7.5.7-.4 1.6-.6 2.4-.6 2.8 0 5 2.3 5 5 0 .8-.2 1.7-.6 2.4-.3.6-.1 1.3.5 1.7 2 1.2 4.2 2.1 6.5 2.7h.3c.5 0 1-.3 1.2-.9.7-2.1 2.6-3.4 4.8-3.4 2.2 0 4.1 1.4 4.8 3.4.2.6.9 1 1.5.8 2.3-.6 4.4-1.5 6.5-2.7.6-.3.8-1.1.5-1.7-.4-.7-.6-1.6-.6-2.4 0-2.8 2.3-5 5-5 .8 0 1.7.2 2.4.6.6.3 1.3.1 1.7-.5 1.2-2 2.1-4.2 2.7-6.5.2-.5-.1-1.2-.8-1.4zM50 57.6c-4.2 0-7.6-3.4-7.6-7.6 0-4.2 3.4-7.6 7.6-7.6 4.2 0 7.6 3.4 7.6 7.6 0 4.2-3.4 7.6-7.6 7.6z"],"#999"),image:new w(["m 40.400002,35 a 8,8 0 0 1 -8,8 8,8 0 0 1 -8,-8 8,8 0 0 1 8,-8 8,8 0 0 1 8,8 z","M78.9 47.3l-9.7-9.6L50 57l-9.6-9.7-19.3 19.3V73h57.8z"],"#5b2d8d"),doc:new w(["M29.6 53l-5.9-18.2c-.2-.7-.4-1-.5-1-.1-.1-.2-.1-.4-.2l-2.1-.6-.1-2.6h11l.2 2.6-2.1.6v.2c0 .2.1.7.4 1.2l2.2 7 3.9-11.7 3-.1 3.6 11.7 2.5-7c.1-.5.4-1 .4-1.2v-.1l-1.8-.5-.1-2.7h8.6l.2 2.6-2.3.7c-.1 0-.2.1-.4.1 0 .1-.2.2-.4.9L43 52.8l-3.1.2-3.3-11.2-3.9 11-3.1.2z","M57.8 30.2h21.7v3.4H57.8zm0 9.2h21.7v3.4H57.8zm0 9.4h21.7v3.4H57.8zm-36.2 9.6h57.9v3.4H21.6zm0 9.4h57.9v3.4H21.6z"],"#2372ba"),executable:new w(["M33.1 29.8l-6.6 6.6L37.2 47 26.5 57.6l6.6 6.6L50.2 47zm18.8 31.1h22.6v9.2H51.9z"],"#333"),ebook:new w(["M75.8 45.7c-.3-.6-.7-1.2-1.3-1.6-.1.5-.3 1-.6 1.5L58.3 69.8c-.6.9-1.9 1.1-2.9.8l-25-7c-1.5-.4-3.3-1.3-3.4-3 0-.6 0-.9.4-1.1.3-.3.8-.2 1.1-.1L52 66c3.4 1 4.4.2 6.9-3.5l14.4-22.2c.7-1.2.9-2.5.5-3.6s-1.4-2-2.7-2.4l-20.6-5.7c-.5-.1-1-.1-1.5-.1v-.1c-3.2-1.9-4.4 1.7-6 3-.6.5-1.4.8-1.7 1.3-.2.5-.1 1-.3 1.4-.6 1.4-2.4 3.6-3.3 4.3-.6.4-1.2.5-1.6 1.1-.3.4-.2 1.1-.4 1.6-.5 1.2-2.1 3.3-3.2 4.4-.4.4-1 .6-1.3 1.1-.3.4-.2 1.1-.4 1.6-.7 1.3-2.2 3.2-3.4 4.3-.6.6-1.3.9-1.6 1.5-.1.3 0 .7-.2 1.1-.2.6-.5 1.1-.7 1.7-.7.9-1 2.1-.9 3.4.2 3.1 2.5 6 5.3 6.8l25 7c2.3.6 5.2-.5 6.6-2.5l14.4-22.2c.7-1.1.9-2.4.5-3.6zm-28.9-7.9l1.1-1.6c.3-.4.9-.7 1.4-.5l16.5 4.6c.5.1.7.6.4 1l-1.1 1.6c-.3.4-.9.7-1.4.5l-16.5-4.6c-.5-.2-.7-.6-.4-1zM42.7 44l1.1-1.6c.3-.4.9-.7 1.4-.5l16.5 4.6c.5.1.7.6.4 1L60.9 49c-.3.4-.9.7-1.4.5L43.1 45c-.5-.1-.7-.6-.4-1z"],"#963"),markup:new w(["M21.5 48.3l16.2-14v7.1l-11 9.2v.1l11 9.2V67L21.5 53v-4.7zm30.6-17.6h4.3L48 71.3h-4.2l8.3-40.6zM62.3 60l11-9.2v-.1l-11-9.2v-7.1l16.2 14v4.9l-16.2 14V60z"]),script:new w(["M42.3 44.2h15.4V48H42.3v-3.8zm0 7.7h15.4v3.8H42.3v-3.8zm0 7.7h15.4v3.8H42.3v-3.8zM69.2 25H38.5c-4.2 0-7.7 3.4-7.7 7.7v34.6h-7.7c0 4.2 3.4 7.7 7.7 7.7h30.8c4.2 0 7.7-3.4 7.7-7.7V36.5H77v-3.8c-.1-4.3-3.5-7.7-7.8-7.7zm-3.8 41.6c0 2.5-2 4.5-4.5 4.5H32.7c1.9-1.3 1.9-3.8 1.9-3.8V32.7c0-2.1 1.7-3.8 3.8-3.8s3.8 1.7 3.8 3.8v3.8h23.1v30.1zM46.2 32.7v-3.8h23.1c3.5 0 3.8 2.2 3.8 3.8H46.2z"]),disc:new w(["M46.9 50c0 .8.3 1.6.9 2.2 1.2 1.2 3.2 1.2 4.4 0 .6-.6.9-1.4.9-2.2 0-.8-.3-1.6-.9-2.2-.6-.6-1.4-.9-2.2-.9-.8 0-1.6.3-2.2.9-.6.6-.9 1.4-.9 2.2z","M32.3 32.3c-9.8 9.8-9.8 25.6 0 35.4 9.8 9.8 25.6 9.8 35.4 0 9.8-9.8 9.8-25.6 0-35.4-9.8-9.7-25.6-9.7-35.4 0zm37 28.2c-.9 1.7-2.1 3.2-3.5 4.6-1.4 1.4-3 2.6-4.6 3.5l-5.8-11.1s.5-.2 1.6-1.2c1.1-1.1 1.3-1.6 1.3-1.6l11 5.8zM54.4 45.6c1.2 1.2 1.8 2.8 1.8 4.4 0 1.6-.6 3.2-1.8 4.4-2.4 2.4-6.4 2.4-8.8 0-1.2-1.2-1.8-2.8-1.8-4.4 0-1.6.6-3.2 1.8-4.4a6.1 6.1 0 0 1 8.8 0zm-8.5-4.4s-1.2.7-2.2 1.8c-.9 1-1 1.2-1.3 1.7l-11-5.9c.9-1.7 2.1-3.2 3.5-4.6 1.4-1.4 3-2.6 4.6-3.5l6.4 10.5z"],"#c96"),text:new w(["M69.4 28.6v5.5H21.5v-5.5M30.6 41h47.9v5.6H30.6zm-9.1 12.4h47.9V59H21.5zm9.1 12.5h47.9v5.6H30.6z"],"#6b533b"),database:new w(["M48.1 75.5c-6.5-.3-12.3-2.3-15.4-5.4-.9-.9-1.8-2.1-2.2-2.9l-.3-.5v-6.1c0-6 0-6.1.1-5.6.3 1.3 1.1 2.7 2.3 3.7.8.7 2.5 1.8 3.8 2.5 2.4 1.2 5.2 2 8.4 2.5 1.9.3 2.6.3 5.3.3s3.4 0 5.3-.3c3.1-.5 6-1.3 8.3-2.5 1.4-.7 3-1.7 3.8-2.5 1.1-1 2-2.5 2.3-3.8.1-.5.1-.4.1 5.5v6l-.3.6c-1 1.9-2.6 3.6-4.7 4.8-4.3 2.7-10.5 4-16.8 3.7z","M48.1 60.4c-5.7-.3-11-1.9-14.3-4.4-.7-.6-1.8-1.6-2.3-2.2-.4-.6-.8-1.2-1.1-1.8l-.3-.5v-6c0-5.9 0-6 .1-5.5.2.9.7 2 1.5 2.9.4.5 1.1 1.2 1.5 1.4.1.1.5.3.7.5 2.7 1.9 6.5 3.3 10.8 3.9 1.9.3 2.6.3 5.3.3s3.4 0 5.3-.3c3.1-.5 6-1.3 8.4-2.5 1.4-.7 3-1.8 3.9-2.5 1.1-1 2-2.4 2.2-3.7.1-.5.1-.4.1 5.5v5.9l-.4.8c-.7 1.2-1.1 1.8-1.9 2.7-.8.8-1.6 1.5-2.7 2.1-4.3 2.4-10.5 3.7-16.8 3.4z","M47.7 45.4c-3.8-.3-6.8-.9-9.6-2-3.4-1.3-5.8-3.1-7.1-5.2-.3-.4-.5-1-.7-1.6-.2-.6-.3-2-.1-2.7.9-4.3 6.6-7.9 14.5-9 1.9-.3 2.6-.3 5.3-.3s3.4 0 5.3.3c3.1.5 6 1.3 8.4 2.5 3.5 1.7 5.6 4 6.1 6.5.1.7.1 2.1-.1 2.7-.4 1.3-1 2.2-2 3.2-2.8 2.9-7.9 4.9-14.1 5.6-.9-.1-5.1 0-5.9 0z"],"#a03537"),pdf:new w(["M46.2 21.8c-3.5 0-6.3 2.9-6.3 6.3 0 4.3 2.4 9.6 4.9 14.7-2 6.1-4.1 12.7-7 18.2-5.8 2.3-11 4-14 6.6l-.2.2c-1.1 1.2-1.8 2.7-1.8 4.4 0 3.5 2.9 6.3 6.3 6.3 1.7 0 3.4-.6 4.4-1.8 0 0 .2 0 .2-.2 2.3-2.7 5-7.8 7.5-12.2 5.5-2.1 11.5-4.4 16.9-5.8 4.1 3.4 10.1 5.5 15 5.5 3.5 0 6.3-2.9 6.3-6.3 0-3.5-2.9-6.3-6.3-6.3-4 0-9.6 1.4-13.9 2.9-3.5-3.4-6.7-7.5-9.2-11.9C50.6 37 52.6 32 52.6 28c-.2-3.5-2.9-6.2-6.4-6.2zm0 3.6c1.4 0 2.4 1.1 2.4 2.4 0 1.8-1.1 5.3-2.1 9-1.5-3.7-2.9-7.2-2.9-9 .1-1.2 1.2-2.4 2.6-2.4zm1.1 21.5c1.8 3.1 4.1 5.8 6.6 8.2-3.7 1.1-7.3 2.3-11 3.7 1.8-3.8 3.1-7.9 4.4-11.9zM72 55c1.4 0 2.4 1.1 2.4 2.4 0 1.4-1.1 2.4-2.4 2.4-2.9 0-6.9-1.2-10.1-3.1C65.6 56 69.7 55 72 55zM34.6 66.2c-1.8 3.2-3.5 6.1-4.7 7.6-.5.5-.9.6-1.7.6-1.4 0-2.4-1.1-2.4-2.4 0-.6.3-1.4.6-1.7 1.3-1.2 4.5-2.6 8.2-4.1z"],"#c11e07"),sheet:new w(["M62.1 30.9h14.1v9.4H62.1zm0 14.5h14.1v9.4H62.1zm0 14.3h14.1v9.4H62.1zm-19.2 0H57v9.4H42.9zm-19 0H38v9.4H23.9zm19.2-14.2h14.1v9.4H43.1zm-19.2 0H38v9.4H23.9zm19.2-14.6h14.1v9.4H43.1zm-19.2 0H38v9.4H23.9z"],"#30723f"),presentation:new w(["M 73.319289,26.32707 H 26.61477 c -2.335226,0 -4.258353,1.917194 -4.258353,4.245215 v 29.853446 c 0,2.328021 1.923127,4.245215 4.258353,4.245215 h 19.506006 l -1.923128,7.257947 h -2.197859 c -0.961564,0 -1.648395,0.684712 -1.648395,1.643309 0,0.958597 0.686831,1.643309 1.648395,1.643309 h 15.797117 c 0.961563,0 1.648394,-0.684712 1.648394,-1.643309 0,-0.958597 -0.686831,-1.643309 -1.648394,-1.643309 H 55.46168 l -1.923128,-7.39489 h 19.780737 c 2.335226,0 4.258353,-1.917193 4.258353,-4.245214 V 30.572285 c 0,-2.328021 -1.923127,-4.245215 -4.258353,-4.245215 z m 0.412099,34.372546 H 26.202672 V 30.2984 h 47.39135 z","m 38.428266,48.511741 h 3.846255 v 7.668775 h -3.846255 z m 6.456214,-2.464963 h 3.846254 V 56.180516 H 44.88448 Z m 6.318846,-2.601906 h 3.846255 v 12.735644 h -3.846255 z m 6.318847,-2.464964 h 3.846255 v 15.200608 h -3.846255 z m -0.274732,-5.614639 -6.730946,3.697445 -4.945184,-1.643308 -8.379341,4.519099 1.236296,1.369424 7.417777,-3.834387 4.945185,1.643309 7.692509,-4.245215 1.236296,1.369424 2.88469,-4.792984 -6.593578,0.410827 z"],"#c24f32"),font:new w(["M40.4 56.2H28.7l-1.4 3.1c-.5 1-.7 1.9-.7 2.6 0 .9.4 1.6 1.1 2 .4.3 1.5.4 3.2.6v.9H20v-.9c1.2-.2 2.2-.6 2.9-1.4.8-.8 1.7-2.4 2.8-4.8l11.8-25.6h.5l12 26.2c1.1 2.5 2.1 4.1 2.8 4.7.6.5 1.3.8 2.3.9v.9h-16v-.9h.7c1.3 0 2.2-.2 2.7-.5.4-.3.5-.6.5-1.1 0-.3 0-.6-.1-.9 0-.1-.3-.7-.7-1.8l-1.8-4zm-.8-1.8l-4.9-11-5.1 11h10z","M80 44.2l-4.7 15.7-.5 1.9c0 .2-.1.4-.1.5 0 .2.1.4.2.5.1.2.3.2.4.2.3 0 .8-.3 1.4-.8.2-.2.8-.9 1.8-2.2l.9.4c-1.2 2-2.4 3.5-3.7 4.5-1.3.9-2.7 1.4-4.2 1.4-.9 0-1.6-.2-2.1-.7-.5-.5-.7-1-.7-1.8 0-.6.3-1.8.8-3.4l.6-1.9c-1.9 3.1-3.7 5.4-5.4 6.7-1 .8-2.1 1.1-3.2 1.1-1.5 0-2.6-.6-3.2-1.8-.7-1.2-1-2.5-1-4 0-2.2.7-4.8 2.1-7.6 1.4-2.9 3.2-5.2 5.5-6.9 1.9-1.4 3.6-2.2 5.3-2.2.9 0 1.6.3 2.2.8.6.5 1 1.4 1.2 2.8l.9-2.9 5.5-.3zm-7.8 4.5c0-1.3-.2-2.2-.6-2.8-.3-.4-.7-.6-1.2-.6s-1 .2-1.6.7c-1.1 1-2.3 3-3.5 5.9-1.3 3-1.9 5.6-1.9 7.7 0 .8.1 1.4.4 1.8.3.4.6.6.9.6.7 0 1.5-.4 2.2-1.2 1.1-1.2 2-2.6 2.9-4.3 1.6-2.9 2.4-5.5 2.4-7.8z"],"#7291a1"),vue:new w(["M 66.425365,28.281905 H 56.751974 L 49.707631,39.427061 43.669624,28.281905 H 21.530262 L 49.707631,76.54823 77.885006,28.281905 Z m -37.888497,4.025337 h 6.767604 L 49.707631,57.239179 64.098226,32.307242 h 6.767597 L 49.707631,68.560446 Z"],"#41B883"),other:new w(["M71 36.3L57.8 23.1c-.4-.4-.9-.6-1.4-.6h-26c-1.1 0-2 .9-2 2v51.1c0 1.1.9 2 2 2h39.3c1.1 0 2-.9 2-2V37.7c-.1-.5-.3-1-.7-1.4zm-3.9 2.3H55.5V27l11.6 11.6zm.1 34.5H32.8V26.9h18.5v13.3c0 1.4 1.2 2.6 2.6 2.6h13.3v30.3z"]),"system-close":new w(["M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"],void 0,"0 0 24 24"),"system-file-preview-new":new w(["M745,353c-5.6,0-11.3,0.2-17.2,0.7C687.4,237.3,577.8,157,451,157c-162.1,0-294,131.9-294,294c0,2.1,0,4.1,0,6.2C72.6,479,10,555.8,10,647c0,108.1,87.9,196,196,196h245V618.3l-63.4,63.4c-9.6,9.6-22.1,14.4-34.6,14.4s-25.1-4.8-34.6-14.4c-19.2-19.2-19.2-50.1,0-69.3l147-147c4.6-4.6,9.9-8.1,16-10.6c12-4.9,25.5-4.9,37.4,0c6,2.5,11.4,6.1,16,10.6l147,147c19.2,19.2,19.2,50.1,0,69.3c-9.6,9.6-22.1,14.4-34.6,14.4s-25.1-4.8-34.6-14.4L549,618.3V843h196c135.1,0,245-109.9,245-245S880.1,353,745,353z"],void 0,"0 0 1000 1000"),"system-sortable-handle":new w(["M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"],void 0,"0 0 24 24"),"system-file-av-play":new w(["M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z"],void 0,"0 0 48 48"),"system-file-name-edit":new w(["M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"],void 0,"0 0 24 24")};for(const e in z)z.hasOwnProperty(e)&&(z[e].category=e);const j={};for(const e in R)if(R.hasOwnProperty(e))for(const t of R[e])j[t]=e;function G(e){return z[e]||z.other}function W(e){e=e.toLowerCase();const t=j[e];return G(t)}const se=n.defineComponent({name:"VueFileIcon",props:{ext:{type:String,required:!1},name:{type:String,required:!1},viewBox:{type:String,required:!1}},computed:{viewBoxComputed(){return!this.viewBox&&this.icon&&this.icon.viewBox?this.icon.viewBox:this.viewBox?this.viewBox:"0 0 100 100"},icon(){return this.name?G(this.name):W(this.ext?this.ext:"")}}}),E=(e,t)=>{const i=e.__vccOpts||e;for(const[s,r]of t)i[s]=r;return i},re=["viewBox"],ne=["d"];function oe(e,t,i,s,r,o){return n.openBlock(),n.createElementBlock("svg",{viewBox:e.viewBoxComputed},[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(e.icon.paths,(l,a)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[l?(n.openBlock(),n.createElementBlock("path",{key:a,d:l},null,8,ne)):n.createCommentVNode("",!0)],64))),256))],8,re)}const T=E(se,[["render",oe]]);function le(e){return new Promise(t=>{if(!ae(e))return t(e.files);const i=[],s=[];for(let r=0;r<e.items.length;r++){const o=e.items[r];if(o.kind!=="file")continue;const l=$(o);if(l)s.push(l);else{const a=o.getAsFile();a&&i.push(a)}}Promise.all(s).then(r=>{t(i.concat(...r))})})}function $(e){if(e.getAsEntry)return $(e.getAsEntry());if(e.webkitGetAsEntry)return $(e.webkitGetAsEntry());if(!e.getAsFile)return new Promise(t=>{let i="";if(e.isFile){e.file(s=>t([s]));return}if(e.isDirectory){i=e.fullPath;const s=[],r=e.createReader(),o=()=>{r.readEntries(l=>{const a=h=>{if(!l[h]&&h===0)return t(s);if(!l[h])return o();$(l[h]).then(f=>{for(const d of f)d.fullPath||(d.fullPath=i);s.push(...f),a(h+1)})};a(0)})};o()}!e.isFile&&!e.isDirectory&&t([])})}function ae(e){if(!e.files.length)return!0;for(const i of e.items)if(i.webkitGetAsEntry!=null){const s=i.webkitGetAsEntry();if(s&&s.isDirectory)return!0}const t=e.files;for(let i=0;i<t.length;i++)if(!t[i].type&&t[i].size%4096===0)return!0;return!1}class he{arrayMove(t,i,s){const r=t.slice(0);if(s>=r.length){let o=s-r.length;for(;o--+1;)r.push(void 0)}return r.splice(s,0,r.splice(i,1)[0]),r}getAverageColor(t){const s=t.length;if(s<4)return;const r=5,o=s-s%4,l=r*4;let a=0,h=0,f=0,d=0,u=0;for(let c=0;c<o;c+=l){const p=t[c+3],m=t[c]*p,b=t[c+1]*p,F=t[c+2]*p;a+=m,h+=b,f+=F,d+=p,u++}return d?[Math.round(a/d),Math.round(h/d),Math.round(f/d),Math.round(d/u)]:[0,0,0,0]}createVideoThumbnail(t,i,s,r,o){return t.setAttribute("crossOrigin",o?"use-credentials":"anonymous"),new Promise((l,a)=>{let h=!1,f=!1;const d=()=>{if(!(h&&f))return;const u=i.getContext("2d");u.drawImage(t,0,0,i.width,i.height);let c;if(r){const m=u.getImageData(0,0,i.width,i.height);c=this.getAverageColor(m.data)}const p=i.toDataURL();l({url:p,color:c,width:t.videoWidth,height:t.videoHeight})};t.addEventListener("loadedmetadata",()=>{i.width=s,i.height=i.width/t.videoWidth*t.videoHeight,t.currentTime=1,h=!0,d()}),t.addEventListener("loadeddata",()=>{f=!0,d()})})}getDataURL(t){return new Promise((i,s)=>{const r=new FileReader;r.onload=o=>{if(!(o.target&&o.target.result))return i("");i(o.target.result)},r.readAsDataURL(t)})}getImageOrientationFromArrayBuffer(t){const i=new DataView(t);if(i.getUint16(0,!1)!==65496)return-2;const s=i.byteLength;let r=2;for(;r<s;){if(i.getUint16(r+2,!1)<=8)return-1;const o=i.getUint16(r,!1);if(r+=2,o===65505){if(i.getUint32(r+=2,!1)!==1165519206)return-1;const l=i.getUint16(r+=6,!1)===18761;r+=i.getUint32(r+4,l);const a=i.getUint16(r,l);r+=2;for(let h=0;h<a;h++)if(i.getUint16(r+h*12,l)===274)return i.getUint16(r+h*12+8,l)}else{if((o&65280)!==65280)break;r+=i.getUint16(r,!1)}}return-1}getImageOrientation(t){return new Promise((i,s)=>{const r=new FileReader;if(!r.readAsArrayBuffer)return i(-3);r.onload=o=>{if(!(o.target&&o.target.result))return i(-3);i(this.getImageOrientationFromArrayBuffer(o.target.result))},r.readAsArrayBuffer(t.slice(0,65536))})}rotateCanvas(t,i,s,r,o){switch(4<t&&t<9?(i.width=o,i.height=r):(i.width=r,i.height=o),t){case 2:s.transform(-1,0,0,1,r,0);break;case 3:s.transform(-1,0,0,-1,r,o);break;case 4:s.transform(1,0,0,-1,0,o);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,o,0);break;case 7:s.transform(0,-1,-1,0,o,r);break;case 8:s.transform(0,-1,1,0,0,r);break}}getImageResized(t,i,s,r,o){let l=t.width,a=t.height;const h=i;i&&s?(l=i,a=s):l>a?l>h&&(a*=h/l,l=h):a>h&&(l*=h/a,a=h),l=Math.floor(l),a=Math.floor(a);const f=document.createElement("canvas"),d=f.getContext("2d");if(!d)return null;f.width=l,f.height=a,r!==void 0&&this.rotateCanvas(r,f,d,l,a),d.drawImage(t,0,0,l,a);let u=null;try{let c;if(o){const p=d.getImageData(0,0,l,a);c=this.getAverageColor(p.data)}c&&(u=c)}catch{}return{image:t,url:f.toDataURL("image/png"),color:u}}resizeImageUrl(t,i,s,r){return new Promise((o,l)=>{t.onload=()=>{if(!r){o({image:t,url:i,color:void 0});return}const a=this.getImageResized(t,s,void 0,void 0,r);a&&(a.url=i),o(a)},t.onerror=()=>{l("Image loading failed: "+i)},t.src=i})}resizeImageFile(t,i,s,r){return new Promise((o,l)=>{if(i.type.indexOf("image")===-1){l(new Error("Not an image"));return}const a=(window.URL||window.webkitURL||{}).createObjectURL,h=(window.URL||window.webkitURL||{}).revokeObjectURL;let f=!1;const d=this.getImageOrientation(i);if(t.onload=()=>{d.then(u=>{const c=this.getImageResized(t,s,void 0,u,r);f&&h(t.src),o(c)})},!(i instanceof File))return l("Invalid file object. Use url or a valid instance of File class");if(typeof a=="function"&&typeof h=="function"){f=!0,t.src=a(i);return}this.getDataURL(i).then(u=>{t.src=u})})}resizeImage(t,i,s,r,o){const l=new Image;return l.setAttribute("crossOrigin",o?"use-credentials":"anonymous"),s?this.resizeImageUrl(l,s,t,r):this.resizeImageFile(l,i,t,r)}getSizeFormatted(t){const i=["B","KB","MB","GB","TB"];if(t===0)return"0 B";let s=Math.floor(Math.log(t)/Math.log(1024));return s=parseInt(""+s,10),Math.round(t/Math.pow(1024,s))+" "+i[s]}getSizeParsed(t){t=(""+t).toUpperCase();const i=t.match(/([\d|.]+?)\s*?([A-Z]+)/),s=["B","KB","MB","GB","TB"];if(!i)return parseFloat(t);const r=s.indexOf(i[2]);return r===-1?parseFloat(t):parseFloat(i[1])*Math.pow(1024,r)}getColorForText(t){return(r=>{const o=r%360,l=r%100,a=50;return"hsl("+o+","+l+"%,"+a+"%, 0.75)"})((r=>{let o=0;if(r.length===0)return o;for(let l=0;l<r.length;l++)o=r.charCodeAt(l)+((o<<5)-o),o=o&o;return o})(t.toLowerCase()))}validateType(t,i){if(!i)return!0;const s=i.split(","),r=t.type,o=r.replace(/\/.*$/,"");for(let l of s)if(l=l.trim(),l.charAt(0)==="."){if(t.name.toLowerCase().indexOf(l.toLowerCase(),t.name.length-l.length)!==-1)return!0}else if(/\/\*$/.test(l)){if(o===l.replace(/\/.*$/,""))return!0}else if(r===l)return!0;return!1}validateSize(t,i){if(!i)return!0;const s=this.getSizeParsed(i);return t.size<=s}getFilesFromDroppedItems(t){return le(t)}}const C=new he,de=n.defineComponent({name:"VueFilePreview",components:{VueFileIcon:T},props:{averageColor:Boolean,deletable:Boolean,disabled:Boolean,editable:Boolean,errorText:{type:Object,required:!1},linkable:Boolean,thumbnailSize:Number,fileRecord:{type:Object,required:!0},withCredentials:Boolean},emits:["dismisserror","remove","rename"],data(){return{isEditInputFocused:!1,isEditCancelable:!0}},computed:{hasLinkableUrl(){return this.linkable?!!this.fileRecord.url()&&!this.fileRecord.isPlayableVideo()&&!this.fileRecord.isPlayableAudio():!1}},watch:{fileRecord:{handler(){this.$forceUpdate()},deep:!0}},methods:{getPathAndName(e){let t=e.name(!1);const i=e.file;return i.fullPath&&(t=`${i.fullPath}/${t}`),t},createThumbnail(e,t){if(e.videoThumbnail){t.poster=e.src();return}const i=document.createElement("canvas");C.createVideoThumbnail(t,i,this.fileRecord.thumbnailSize,this.averageColor!==!1,this.withCredentials===!0).then(s=>{e.imageColor=s.color,e.videoThumbnail=s.url,e.dimensions.width=s.width,e.dimensions.height=s.height,t.poster=e.src()})},playAv(e){if(e.stopAv){e.stopAv();return}const{createObjectURL:t}=window.URL||window.webkitURL||{},{revokeObjectURL:i}=window.URL||window.webkitURL||{},s=this.$refs.wrapper,r=document.createElement(e.isAudio()?"audio":"video");r instanceof HTMLVideoElement&&e.isPlayableVideo()&&this.createThumbnail(e,r),r.controls=!0,s.appendChild(r);const o=e.url()||t(e.file);r.src=o,r.play(),e.isPlayingAv=!0,e.stopAv=()=>{r.src="",s.removeChild(r),i(o),e.isPlayingAv=!1,e.stopAv=null}},removeFileRecord(e){this.clearFilename()||this.disabled!==!0&&this.$emit("remove",e)},editFileName(){this.editable===!0&&(!this.$refs.input||this.$refs.input.focus())},editInputFocused(){this.isEditInputFocused=!0,this.isEditCancelable=!0},editInputBlured(){const{fileRecord:e}=this;e.oldFileName=this.fileRecord.name();const t=this.fileRecord.name(!0),{value:i}=this.$refs.input;e.customName=i,this.fileRecord.name(!0)!==t&&(e.oldCustomName=t,this.$emit("rename",e));const r=100;window.setTimeout(()=>{this.$nextTick(()=>{!this.isEditCancelable||(this.isEditInputFocused=!1)})},r)},filenameChanged(e){e&&this.$refs.input.blur(),e===!1&&this.clearFilename()},filenameClearPressed(){!(this.editable===!0&&this.isEditInputFocused)||(this.isEditCancelable=!1)},clearFilename(){return this.editable===!0&&this.isEditInputFocused?(this.$refs.input.value="",this.isEditCancelable=!0,this.editInputBlured(),!0):!1},dismissError(){this.fileRecord.error&&(this.fileRecord.error.size||this.fileRecord.error.type)||this.$emit("dismisserror",this.fileRecord)}}}),fe={key:0,ref:"wrapper",class:"file-av-wrapper"},ce={class:"file-av-stop"},ue={class:"file-av-play"},pe={class:"file-error-message file-error-message-client"},me={key:1,class:"thumbnail",style:{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",overflow:"hidden"}},ge=["href","title"],we=["src"],ye=["src"],be={class:"file-ext"},ve={class:"file-size"},Ce=["disabled","value"],Re={key:1,class:"file-name-edit-icon"},Se={class:"file-name-text"},xe={key:3,class:"image-dimension"},ze={class:"image-dimension-width"},Ee={class:"image-dimension-height"},Ie={class:"file-icon"},ke=["href","title"];function Fe(e,t,i,s,r,o){const l=n.resolveComponent("VueFileIcon");return n.openBlock(),n.createElementBlock("div",{class:n.normalizeClass(["file-preview-wrapper-"+e.fileRecord.ext(),e.fileRecord.isImage()?"file-preview-wrapper-image":"file-preview-wrapper-other","file-category-"+e.fileRecord.icon().category,{"file-is-playing-av":e.fileRecord.isPlayingAv},{"is-deletable":e.deletable===!0},{"is-editable":e.editable===!0},{"is-edit-input-focused":e.isEditInputFocused},{"has-error":e.fileRecord.error}])},[e.fileRecord.isPlayableAudio()||e.fileRecord.isPlayableVideo()?(n.openBlock(),n.createElementBlock("div",fe,[n.createElementVNode("div",{class:"file-av-action",onClick:t[0]||(t[0]=a=>e.playAv(e.fileRecord))},[n.createElementVNode("span",ce,[n.createVNode(l,{name:"system-close"})]),n.createElementVNode("span",ue,[n.createVNode(l,{name:"system-file-av-play"})])])],512)):n.createCommentVNode("",!0),n.createElementVNode("span",{class:n.normalizeClass(["file-preview",{"image-preview":e.fileRecord.isImage(),"other-preview":!e.fileRecord.isImage(),"dark-content":e.fileRecord.isImage()&&e.fileRecord.isDarkColor()}]),style:n.normalizeStyle({"background-color":e.fileRecord.color()})},[e.fileRecord.error?(n.openBlock(),n.createElementBlock("span",{key:0,class:"file-error-wrapper",onClick:t[1]||(t[1]=a=>e.dismissError())},[n.createElementVNode("span",pe,n.toDisplayString(e.fileRecord.getErrorMessage(e.errorText)),1)])):n.createCommentVNode("",!0),t[12]||(t[12]=n.createElementVNode("span",{class:"file-preview-overlay"},null,-1)),e.fileRecord.isImage()||e.fileRecord.isPlayableVideo()?(n.openBlock(),n.createElementBlock("span",me,[e.hasLinkableUrl?(n.openBlock(),n.createElementBlock("a",{key:0,href:e.fileRecord.url(),target:"_blank",title:e.fileRecord.name()},[n.createElementVNode("img",{class:"file-preview-img",src:e.fileRecord.src()},null,8,we)],8,ge)):(n.openBlock(),n.createElementBlock("img",{key:1,class:"file-preview-img",src:e.fileRecord.src()},null,8,ye))])):n.createCommentVNode("",!0),n.createElementVNode("span",be,n.toDisplayString(e.fileRecord.ext()),1),n.createElementVNode("span",ve,n.toDisplayString(e.fileRecord.size()),1),e.deletable?(n.openBlock(),n.createElementBlock("span",{key:2,class:"file-delete",onClick:t[2]||(t[2]=a=>e.removeFileRecord(e.fileRecord)),onTouchstart:t[3]||(t[3]=a=>e.filenameClearPressed()),onMousedown:t[4]||(t[4]=a=>e.filenameClearPressed())},[n.createVNode(l,{name:"system-close"})],32)):n.createCommentVNode("",!0),n.createElementVNode("span",{class:"file-name",onClick:t[11]||(t[11]=a=>e.editFileName())},[e.editable===!0?(n.openBlock(),n.createElementBlock("input",{key:0,ref:"input",class:"file-name-input",disabled:e.disabled===!0,type:"text",value:e.fileRecord.name(!0),onFocus:t[5]||(t[5]=a=>e.editInputFocused()),onBlur:t[6]||(t[6]=a=>e.editInputBlured()),onChange:t[7]||(t[7]=a=>e.filenameChanged()),onInput:t[8]||(t[8]=a=>e.filenameChanged()),onKeyup:[t[9]||(t[9]=n.withKeys(a=>e.filenameChanged(!0),["enter"])),t[10]||(t[10]=n.withKeys(a=>e.filenameChanged(!1),["esc"]))]},null,40,Ce)):n.createCommentVNode("",!0),e.editable===!0?(n.openBlock(),n.createElementBlock("span",Re,[n.createVNode(l,{name:"system-file-name-edit"})])):n.createCommentVNode("",!0),n.createElementVNode("span",Se,n.toDisplayString(e.getPathAndName(e.fileRecord)),1)]),e.fileRecord.dimensions.width&&e.fileRecord.dimensions.height?(n.openBlock(),n.createElementBlock("span",xe,[n.createElementVNode("span",ze,n.toDisplayString(e.fileRecord.dimensions.width),1),n.createElementVNode("span",Ee,n.toDisplayString(e.fileRecord.dimensions.height),1)])):n.createCommentVNode("",!0),e.fileRecord.hasProgress()?(n.openBlock(),n.createElementBlock("span",{key:4,class:n.normalizeClass(["file-progress",{"file-progress-full":e.fileRecord.progress()>=99.9999,"file-progress-done":e.fileRecord.progress()>=100,"has-file-progress":e.fileRecord.progress()>0}])},[n.createElementVNode("span",{class:"file-progress-bar",style:n.normalizeStyle({width:e.fileRecord.progress()+"%"})},null,4)],2)):n.createCommentVNode("",!0),n.createElementVNode("span",Ie,[e.hasLinkableUrl?(n.openBlock(),n.createElementBlock("a",{key:0,href:e.fileRecord.url(),target:"_blank",title:e.fileRecord.name()},[n.createVNode(l,{ext:e.fileRecord.ext()},null,8,["ext"])],8,ke)):(n.openBlock(),n.createBlock(l,{key:1,ext:e.fileRecord.ext()},null,8,["ext"]))])],6)],2)}const P=E(de,[["render",Fe]]),Te=n.defineComponent({name:"VueFileList",props:{list:{type:Array,required:!0},axis:{type:String,required:!0},appendTo:{type:String,required:!0}}});function $e(e,t,i,s,r,o){return n.openBlock(),n.createElementBlock("div",null,[n.renderSlot(e.$slots,"default")])}const N=E(Te,[["render",$e]]),Ve=n.defineComponent({name:"VueFileListItem",props:{index:Number}});function Me(e,t,i,s,r,o){return n.openBlock(),n.createElementBlock("div",null,[n.renderSlot(e.$slots,"default")])}const L=E(Ve,[["render",Me]]),Be=n.defineComponent({inject:["manager"],props:{index:{type:Number,required:!0},disabled:{type:Boolean,default:!1}},data(){return{}},watch:{index(e){this.$el&&this.$el.sortableInfo&&(this.$el.sortableInfo.index=e)},disabled(e){e?this.removeDraggable():this.setDraggable(this.index)}},mounted(){const{disabled:e,index:t}=this.$props;e||this.setDraggable(t)},beforeUnmount(){this.disabled||this.removeDraggable()},methods:{setDraggable(e){const t=this.$el;t.sortableInfo={index:e,manager:this.manager},this.ref={node:t},this.manager.add(this.ref)},removeDraggable(){this.manager.remove(this.ref)}}});class Pe{constructor(){this.refs=[],this.active=null}add(t){this.refs||(this.refs=[]),this.refs.push(t)}remove(t){const i=this.getIndex(t);i!==-1&&this.refs.splice(i,1)}isActive(){return!!this.active}getActive(){return this.refs.find(({node:t})=>{var i,s;return((i=t==null?void 0:t.sortableInfo)===null||i===void 0?void 0:i.index)==((s=this===null||this===void 0?void 0:this.active)===null||s===void 0?void 0:s.index)})||null}getIndex(t){return this.refs.indexOf(t)}getRefs(){return this.refs}getOrderedRefs(){return this.refs.sort((t,i)=>t.node.sortableInfo.index-i.node.sortableInfo.index)}}const I=e=>e.touches!=null;function U(e,t){return!!e&&Object.prototype.hasOwnProperty.call(e,t)}function Ne(e,t,i){const s=e.slice(0);if(i>=s.length){let r=i-s.length;for(;r--+1;)s.push(void 0)}return s.splice(i,0,s.splice(t,1)[0]),s}function Le(e,t){const i=e.slice(0);return t>=i.length||i.splice(t,1),i}function Ue(e,t,i){const s=e.slice(0);return t===s.length?s.push(i):s.splice(t,0,i),s}const S={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","mouseup"],cancel:["touchcancel","keyup"]};function K(e,t){for(;e;){if(t(e))return e;e=e.parentNode}}function Y(e,t,i){return i<e?e:i>t?t:i}function V(e){return e.substr(-2)==="px"?parseFloat(e):0}function Q(e){const t=window.getComputedStyle(e);return{top:V(t.marginTop),right:V(t.marginRight),bottom:V(t.marginBottom),left:V(t.marginLeft)}}function M(e,t="page"){const i=`${t}X`,s=`${t}Y`;return{x:I(e)?e.touches[0][i]:e[i],y:I(e)?e.touches[0][s]:e[s]}}function X(e){const t=[e];for(;e;e=e.offsetParent)t.unshift(e);return t}function Oe(e,t){const i=X(e),s=X(t);if(i[0]!=s[0])throw"No common ancestor!";for(let r=0;r<i.length;r++)if(i[r]!=s[r])return i[r-1]}function x(e,t,i={top:0,left:0}){if(e){const s={top:i.top+e.offsetTop,left:i.left+e.offsetLeft};return e.offsetParent!==t.offsetParent?x(e.offsetParent,t,s):s}return{top:0,left:0}}function J(e){const t=e.querySelectorAll("input, textarea, select"),i=e.cloneNode(!0);return[...i.querySelectorAll("input, textarea, select")].forEach((r,o)=>{r.type!=="file"&&t[o]&&(r.value=t[o].value)}),i}function De(e,t,i){if(typeof e=="string"&&(e=+e),Array.isArray(e)||(e=[e,e]),e.length!==2)throw new Error(`lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given ${e}`);const[s,r]=e;return[Z(s,t,i),Z(r,t,i)]}function Z(e,t,i){let s=e,r=e,o="px";if(typeof e=="string"){const l=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);if(l===null)throw new Error(`lockOffset value should be a number or a string of a number followed by "px" or "%". Given ${e}`);s=r=parseFloat(e),o=l[1]}if(!isFinite(s)||!isFinite(r))throw new Error(`lockOffset value should be a finite. Given ${e}`);return o==="%"&&(s=s*t/100,r=r*i/100),{x:s,y:r}}function _(e=[]){for(let t=0,i=e.length;t<i;t++){const s=e[t],r=s.node;if(!r)return;s.edgeOffset=null,O(r)}}function O(e,t="",i=""){!e||(e.style.transform=t,e.style.transitionDuration=i)}const D=setTimeout,Ae=n.defineComponent({inject:{SlicksortHub:{from:"SlicksortHub",default:null}},provide(){return{manager:this.manager}},props:{list:{type:Array,required:!0},axis:{type:String,default:"y"},distance:{type:Number,default:0},pressDelay:{type:Number,default:0},pressThreshold:{type:Number,default:5},useDragHandle:{type:Boolean,default:!1},useWindowAsScrollContainer:{type:Boolean,default:!1},hideSortableGhost:{type:Boolean,default:!0},lockToContainerEdges:{type:Boolean,default:!1},lockOffset:{type:[String,Number,Array],default:"50%"},transitionDuration:{type:Number,default:300},appendTo:{type:String,default:"body"},draggedSettlingDuration:{type:Number,default:null},group:{type:String,default:""},accept:{type:[Boolean,Array,Function],default:null},cancelKey:{type:String,default:"Escape"},block:{type:Array,default:()=>[]},lockAxis:{type:String,default:""},helperClass:{type:String,default:""},contentWindow:{type:Object,default:null},shouldCancelStart:{type:Function,default:e=>["input","textarea","select","option","button"].indexOf(e.target.tagName.toLowerCase())!==-1},getHelperDimensions:{type:Function,default:({node:e})=>({width:e.offsetWidth,height:e.offsetHeight})}},emits:["sort-start","sort-move","sort-end","sort-cancel","sort-insert","sort-remove","update:list"],data(){let e=!1;if(this.group){if(this.SlicksortHub)e=!0;else if(process.env.NODE_ENV!=="production")throw new Error('Slicksort plugin required to use "group" prop')}return{sorting:!1,hub:e?this.SlicksortHub:null,manager:new Pe}},mounted(){this.hub&&(this.id=this.hub.getId()),this.container=this.$el,this.document=this.container.ownerDocument||document,this._window=this.contentWindow||window,this.scrollContainer=this.useWindowAsScrollContainer?{scrollLeft:0,scrollTop:0}:this.container,this.events={start:this.handleStart,move:this.handleMove,end:this.handleEnd};for(const e in this.events)U(this.events,e)&&S[e].forEach(t=>this.container.addEventListener(t,this.events[e]));this.hub&&this.hub.addContainer(this)},beforeUnmount(){for(const e in this.events)U(this.events,e)&&S[e].forEach(t=>this.container.removeEventListener(t,this.events[e]));this.hub&&this.hub.removeContainer(this),this.dragendTimer&&clearTimeout(this.dragendTimer),this.cancelTimer&&clearTimeout(this.cancelTimer),this.pressTimer&&clearTimeout(this.pressTimer),this.autoscrollInterval&&clearInterval(this.autoscrollInterval)},methods:{handleStart(e){const{distance:t,shouldCancelStart:i}=this.$props;if(!I(e)&&e.button===2||i(e))return!1;this._touched=!0,this._pos=M(e);const s=e.target,r=K(s,o=>o.sortableInfo!=null);if(r&&r.sortableInfo&&this.nodeIsChild(r)&&!this.sorting){const{useDragHandle:o}=this.$props,{index:l}=r.sortableInfo;if(o&&!K(s,a=>a.sortableHandle!=null))return;this.manager.active={index:l},s.tagName.toLowerCase()==="a"&&e.preventDefault(),t||(this.pressDelay===0?this.handlePress(e):this.pressTimer=D(()=>this.handlePress(e),this.pressDelay))}},nodeIsChild(e){return e.sortableInfo.manager===this.manager},handleMove(e){const{distance:t,pressThreshold:i}=this.$props;if(!this.sorting&&this._touched){const s=M(e);this._delta={x:this._pos.x-s.x,y:this._pos.y-s.y};const r=Math.abs(this._delta.x)+Math.abs(this._delta.y);!t&&(!i||i&&r>=i)?(this.cancelTimer&&clearTimeout(this.cancelTimer),this.cancelTimer=D(this.cancel,0)):t&&r>=t&&this.manager.isActive()&&this.handlePress(e)}},handleEnd(){if(!this._touched)return;const{distance:e}=this.$props;this._touched=!1,e||this.cancel()},cancel(){this.sorting||(this.pressTimer&&clearTimeout(this.pressTimer),this.manager.active=null,this.hub&&this.hub.cancel())},handleSortCancel(e){(I(e)||e.key===this.cancelKey)&&(this.newIndex=this.index,this.canceling=!0,this.translate={x:0,y:0},this.animateNodes(),this.handleSortEnd(e))},handlePress(e){e.stopPropagation();const t=this.manager.getActive();if(t){const{getHelperDimensions:i,helperClass:s,hideSortableGhost:r,appendTo:o}=this.$props,{node:l}=t,{index:a}=l.sortableInfo,h=Q(l),f=this.container.getBoundingClientRect(),d=i({index:a,node:l});this.node=l,this.margin=h,this.width=d.width,this.height=d.height,this.marginOffset={x:this.margin.left+this.margin.right,y:Math.max(this.margin.top,this.margin.bottom)},this.boundingClientRect=l.getBoundingClientRect(),this.containerBoundingRect=f,this.index=a,this.newIndex=a;const u=J(l);this.helper=this.document.querySelector(o).appendChild(u),this.helper.style.position="fixed",this.helper.style.top=`${this.boundingClientRect.top-h.top}px`,this.helper.style.left=`${this.boundingClientRect.left-h.left}px`,this.helper.style.width=`${this.width}px`,this.helper.style.height=`${this.height}px`,this.helper.style.boxSizing="border-box",this.helper.style.pointerEvents="none",r&&(this.sortableGhost=l,l.style.visibility="hidden",l.style.opacity="0"),this.hub&&(this.hub.sortStart(this),this.hub.helper=this.helper,this.hub.ghost=this.sortableGhost),this.intializeOffsets(e,this.boundingClientRect),this.offsetEdge=x(l,this.container),s&&this.helper.classList.add(...s.split(" ")),this.listenerNode=I(e)?l:this._window,S.move.forEach(c=>this.listenerNode.addEventListener(c,this.handleSortMove)),S.end.forEach(c=>this.listenerNode.addEventListener(c,this.handleSortEnd)),S.cancel.forEach(c=>this.listenerNode.addEventListener(c,this.handleSortCancel)),this.sorting=!0,this.$emit("sort-start",{event:e,node:l,index:a})}},handleSortMove(e){if(e.preventDefault(),this.updatePosition(e),this.hub){const t=this.list[this.index];this.hub.handleSortMove(e,t)}(!this.hub||this.hub.isDest(this))&&(this.animateNodes(),this.autoscroll()),this.$emit("sort-move",{event:e})},handleDropOut(){const e=this.list[this.index],t=Le(this.list,this.index);return this.$emit("sort-remove",{oldIndex:this.index}),this.$emit("update:list",t),e},handleDropIn(e){const t=Ue(this.list,this.newIndex,e);this.$emit("sort-insert",{newIndex:this.newIndex,value:e}),this.$emit("update:list",t),this.handleDragEnd()},handleDragOut(){this.autoscrollInterval&&(clearInterval(this.autoscrollInterval),this.autoscrollInterval=null),this.hub.isSource(this)?(this.translate={x:1e4,y:1e4},this.animateNodes()):(this.manager.getRefs().forEach(e=>{e.node.style.transform=""}),this.dragendTimer=D(this.handleDragEnd,this.transitionDuration||0))},handleDragEnd(){this.autoscrollInterval&&(clearInterval(this.autoscrollInterval),this.autoscrollInterval=null),_(this.manager.getRefs()),this.sortableGhost&&(this.sortableGhost.remove(),this.sortableGhost=null),this.dragendTimer&&(clearTimeout(this.dragendTimer),this.dragendTimer=null),this.manager.active=null,this._touched=!1,this.sorting=!1},intializeOffsets(e,t){const{useWindowAsScrollContainer:i,containerBoundingRect:s,_window:r}=this;this.marginOffset={x:this.margin.left+this.margin.right,y:Math.max(this.margin.top,this.margin.bottom)},this._axis={x:this.axis.indexOf("x")>=0,y:this.axis.indexOf("y")>=0},this.initialOffset=M(e),this.initialScroll={top:this.scrollContainer.scrollTop,left:this.scrollContainer.scrollLeft},this.initialWindowScroll={top:window.pageYOffset,left:window.pageXOffset},this.translate={x:0,y:0},this.minTranslate={},this.maxTranslate={},this._axis.x&&(this.minTranslate.x=(i?0:s.left)-t.left-this.width/2,this.maxTranslate.x=(i?r.innerWidth:s.left+s.width)-t.left-this.width/2),this._axis.y&&(this.minTranslate.y=(i?0:s.top)-t.top-this.height/2,this.maxTranslate.y=(i?r.innerHeight:s.top+s.height)-t.top-this.height/2)},handleDragIn(e,t,i){if(this.hub.isSource(this))return;this.dragendTimer&&(this.handleDragEnd(),clearTimeout(this.dragendTimer),this.dragendTimer=null);const s=this.manager.getRefs();this.index=s.length,this.manager.active={index:this.index};const r=this.container.getBoundingClientRect(),o=i.getBoundingClientRect();this.containerBoundingRect=r,this.sortableGhost=J(t),this.container.appendChild(this.sortableGhost);const l=this.sortableGhost.getBoundingClientRect();this.boundingClientRect=l,this.margin=Q(this.sortableGhost),this.width=l.width,this.height=l.height,this.offsetEdge=x(this.sortableGhost,this.container),this.intializeOffsets(e,l),this.initialOffset.x+=l.x-o.x,this.initialOffset.y+=l.y-o.y,this.sorting=!0},handleSortEnd(e){this.listenerNode&&(S.move.forEach(s=>this.listenerNode.removeEventListener(s,this.handleSortMove)),S.end.forEach(s=>this.listenerNode.removeEventListener(s,this.handleSortEnd)),S.cancel.forEach(s=>this.listenerNode.removeEventListener(s,this.handleSortCancel)));const t=this.manager.getRefs();this.helper&&this.helperClass&&this.helper.classList.remove(...this.helperClass.split(" ")),this.autoscrollInterval&&clearInterval(this.autoscrollInterval),this.autoscrollInterval=null;const i=()=>{this.helper&&(this.helper.remove(),this.helper=null),this.hideSortableGhost&&this.sortableGhost&&(this.sortableGhost.style.visibility="",this.sortableGhost.style.opacity=""),_(t),this.hub&&!this.hub.isDest(this)?this.canceling?this.hub.cancel():this.hub.handleSortEnd():this.canceling?this.$emit("sort-cancel",{event:e}):(this.$emit("sort-end",{event:e,oldIndex:this.index,newIndex:this.newIndex}),this.$emit("update:list",Ne(this.list,this.index,this.newIndex))),this.manager.active=null,this._touched=!1,this.canceling=!1,this.sorting=!1};this.transitionDuration||this.draggedSettlingDuration?this.transitionHelperIntoPlace(t,i):i()},transitionHelperIntoPlace(e,t){if(this.draggedSettlingDuration===0||e.length===0||!this.helper)return Promise.resolve();const i=e[this.index].node;let s=0,r=0;const o={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left};if(this.hub&&!this.hub.isDest(this)&&!this.canceling){const f=this.hub.getDest();if(!f)return;const d=f.newIndex,u=f.manager.getOrderedRefs(),c=d<u.length?u[d].node:f.sortableGhost,p=Oe(i,c),m=x(i,p),b=x(c,p);s=b.left-m.left-o.left,r=b.top-m.top-o.top}else{const f=e[this.newIndex].node,d={left:this.scrollContainer.scrollLeft-this.initialScroll.left+o.left,top:this.scrollContainer.scrollTop-this.initialScroll.top+o.top};s=-d.left,this.translate&&this.translate.x>0?s+=f.offsetLeft+f.offsetWidth-(i.offsetLeft+i.offsetWidth):s+=f.offsetLeft-i.offsetLeft,r=-d.top,this.translate&&this.translate.y>0?r+=f.offsetTop+f.offsetHeight-(i.offsetTop+i.offsetHeight):r+=f.offsetTop-i.offsetTop}const l=this.draggedSettlingDuration!==null?this.draggedSettlingDuration:this.transitionDuration;O(this.helper,`translate3d(${s}px,${r}px, 0)`,`${l}ms`);const a=f=>{(!f||f.propertyName==="transform")&&(clearTimeout(h),O(this.helper),t())},h=setTimeout(a,l+10);this.helper.addEventListener("transitionend",a)},updatePosition(e){const{lockAxis:t,lockToContainerEdges:i}=this.$props,s=M(e),r={x:s.x-this.initialOffset.x,y:s.y-this.initialOffset.y};if(r.y-=window.pageYOffset-this.initialWindowScroll.top,r.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=r,i){const[o,l]=De(this.lockOffset,this.height,this.width),a={x:this.width/2-o.x,y:this.height/2-o.y},h={x:this.width/2-l.x,y:this.height/2-l.y};this.minTranslate.x&&this.maxTranslate.x&&(r.x=Y(this.minTranslate.x+a.x,this.maxTranslate.x-h.x,r.x)),this.minTranslate.y&&this.maxTranslate.y&&(r.y=Y(this.minTranslate.y+a.y,this.maxTranslate.y-h.y,r.y))}t==="x"?r.y=0:t==="y"&&(r.x=0),this.helper&&(this.helper.style.transform=`translate3d(${r.x}px,${r.y}px, 0)`)},animateNodes(){const{transitionDuration:e,hideSortableGhost:t}=this.$props,i=this.manager.getOrderedRefs(),s={left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top},r={left:this.offsetEdge.left+this.translate.x+s.left,top:this.offsetEdge.top+this.translate.y+s.top},o={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left};this.newIndex=null;for(let l=0,a=i.length;l<a;l++){const{node:h}=i[l],f=h.sortableInfo.index,d=h.offsetWidth,u=h.offsetHeight,c={width:this.width>d?d/2:this.width/2,height:this.height>u?u/2:this.height/2},p={x:0,y:0};let{edgeOffset:m}=i[l];m||(i[l].edgeOffset=m=x(h,this.container));const b=l<i.length-1&&i[l+1],F=l>0&&i[l-1];if(b&&!b.edgeOffset&&(b.edgeOffset=x(b.node,this.container)),f===this.index){t&&(this.sortableGhost=h,h.style.visibility="hidden",h.style.opacity="0");continue}e&&(h.style.transitionDuration=`${e}ms`),this._axis.x?this._axis.y?f<this.index&&(r.left+o.left-c.width<=m.left&&r.top+o.top<=m.top+c.height||r.top+o.top+c.height<=m.top)?(p.x=this.width+this.marginOffset.x,m.left+p.x>this.containerBoundingRect.width-c.width&&b&&(p.x=b.edgeOffset.left-m.left,p.y=b.edgeOffset.top-m.top),this.newIndex===null&&(this.newIndex=f)):f>this.index&&(r.left+o.left+c.width>=m.left&&r.top+o.top+c.height>=m.top||r.top+o.top+c.height>=m.top+u)&&(p.x=-(this.width+this.marginOffset.x),m.left+p.x<this.containerBoundingRect.left+c.width&&F&&(p.x=F.edgeOffset.left-m.left,p.y=F.edgeOffset.top-m.top),this.newIndex=f):f>this.index&&r.left+o.left+c.width>=m.left?(p.x=-(this.width+this.marginOffset.x),this.newIndex=f):f<this.index&&r.left+o.left<=m.left+c.width&&(p.x=this.width+this.marginOffset.x,this.newIndex==null&&(this.newIndex=f)):this._axis.y&&(f>this.index&&r.top+o.top+c.height>=m.top?(p.y=-(this.height+this.marginOffset.y),this.newIndex=f):f<this.index&&r.top+o.top<=m.top+c.height&&(p.y=this.height+this.marginOffset.y,this.newIndex==null&&(this.newIndex=f))),h.style.transform=`translate3d(${p.x}px,${p.y}px,0)`}this.newIndex==null&&(this.newIndex=this.index)},autoscroll(){const e=this.translate,t={x:0,y:0},i={x:1,y:1},s={x:10,y:10};e.y>=this.maxTranslate.y-this.height/2?(t.y=1,i.y=s.y*Math.abs((this.maxTranslate.y-this.height/2-e.y)/this.height)):e.x>=this.maxTranslate.x-this.width/2?(t.x=1,i.x=s.x*Math.abs((this.maxTranslate.x-this.width/2-e.x)/this.width)):e.y<=this.minTranslate.y+this.height/2?(t.y=-1,i.y=s.y*Math.abs((e.y-this.height/2-this.minTranslate.y)/this.height)):e.x<=this.minTranslate.x+this.width/2&&(t.x=-1,i.x=s.x*Math.abs((e.x-this.width/2-this.minTranslate.x)/this.width)),this.autoscrollInterval&&(clearInterval(this.autoscrollInterval),this.autoscrollInterval=null),(t.x!==0||t.y!==0)&&(this.autoscrollInterval=window.setInterval(()=>{const r={left:1*i.x*t.x,top:1*i.y*t.y};this.useWindowAsScrollContainer?this._window.scrollBy(r.left,r.top):(this.scrollContainer.scrollTop+=r.top,this.scrollContainer.scrollLeft+=r.left),this.translate.x+=r.left,this.translate.y+=r.top,this.animateNodes()},5))}}}),ee=n.defineComponent({name:"SlickItem",mixins:[Be],props:{tag:{type:String,default:"div"}},render(){var e,t;return n.h(this.tag,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))}}),He=n.defineComponent({name:"SlickList",mixins:[Ae],props:{tag:{type:String,default:"div"},itemKey:{type:[String,Function],default:"id"}},render(){var e,t;return this.$slots.item?n.h(this.tag,this.list.map((i,s)=>{let r;if(i!=null){if(typeof this.itemKey=="function")r=this.itemKey(i);else if(typeof i=="object"&&U(i,this.itemKey)&&typeof i[this.itemKey]=="string")r=i[this.itemKey];else if(typeof i=="string")r=i;else throw new Error("Cannot find key for item, use the item-key prop and pass a function or string");return n.h(ee,{key:r,index:s},{default:()=>{var o,l;return(l=(o=this.$slots).item)===null||l===void 0?void 0:l.call(o,{item:i,index:s})}})}})):n.h(this.tag,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))}});n.defineComponent({props:{tag:{type:String,default:"span"}},mounted(){this.$el.sortableHandle=!0},render(){var e,t;return n.h(this.tag,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))}});class v{constructor(t,i){g(this,"urlValue",null);g(this,"urlResized",null);g(this,"image",{});g(this,"isPlayingAv",!1);g(this,"oldFileName",null);g(this,"oldCustomName",null);g(this,"upload",{data:null,error:!1});g(this,"raw");g(this,"progressInternal");g(this,"accept");g(this,"dimensions");g(this,"error");g(this,"file");g(this,"height");g(this,"width");g(this,"id");g(this,"imageColor");g(this,"lastKnownSrc");g(this,"maxSize");g(this,"options");g(this,"read");g(this,"thumbnailSize");g(this,"videoThumbnail");g(this,"customName");g(this,"xhr");g(this,"xhrQueue");g(this,"stopAv");g(this,"tusUpload");g(this,"calculateAverageColor");this.urlValue=null,this.urlResized=null,this.lastKnownSrc=null,this.image={},this.isPlayingAv=!1,this.oldFileName=null,this.oldCustomName=null,this.raw=t,this.file=t.file instanceof File?t.file:this.createDummyFile(t),this.progressInternal=isNaN(t.progress)?0:t.progress,this.thumbnailSize=i.thumbnailSize||360,this.read=!!i.read,this.dimensions=t.dimensions||{width:0,height:0},this.dimensions.width=this.dimensions.width||0,this.dimensions.height=this.dimensions.height||0,this.error=t.error||!1,this.options=i,this.maxSize=i.maxSize,this.accept=i.accept,this.id=Math.random()+":"+new Date().getTime(),this.videoThumbnail=t.videoThumbnail,this.imageColor=t.imageColor,this.customName=t.customName,this.calculateAverageColor=i.averageColor!==void 0?i.averageColor:!0,this.validate()}static getFromRaw(t,i,s){const r=new v(t,i),o=r.setUrl(t.url);return s?r:o}static fromRaw(t,i){return v.getFromRaw(t,i,!1)}static fromRawSync(t,i){return v.getFromRaw(t,i,!0)}static fromRawArray(t,i){const s=[];for(const r of t)s.push(v.fromRaw(r,i));return Promise.all(s)}static fromRawArraySync(t,i){const s=[];for(const r of t)s.push(v.fromRawSync(r,i));return s}static toRawArray(t){const i=[];for(const s of t)i.push(s.toRaw());return i}static readFile(t){return new Promise((i,s)=>{if(!t.read){t.setUrl(null).then(()=>{i(t)},r=>{i(t)});return}C.getDataURL(t.file).then(r=>{t.setUrl(r).then(()=>{i(t)},s)},s)})}static readFiles(t){const i=[];for(const s of t)i.push(v.readFile(s));return Promise.all(i)}createDummyFile(t){const i={};i.lastModified=t.lastModified;const s=new Date;return i.lastModified&&s.setTime(i.lastModified),i.lastModifiedDate=s,i.name=t.name,i.size=t.size,i.type=t.type,i}hasProgress(){return!isNaN(this.progressInternal)}progress(t){if(t!==void 0){this.progressInternal=t;return}return this.progressInternal}url(t){return t!==void 0?this.setUrl(t):this.urlValue||void 0}src(){return this.isImage()?this.urlResized||this.urlValue||this.file.url:this.isPlayableVideo()&&this.videoThumbnail||""}size(){return this.file?C.getSizeFormatted(this.file.size):""}ext(){return this.file&&this.file.name.indexOf(".")!==-1?this.file.name.split(".").pop():"?"}name(t){const i=this.ext();if(this.customName)return this.customName+(t?"":i!=="?"?"."+i:"");const s=this.file&&this.file.name;return t&&i!=="?"?s.substr(0,s.length-(i.length+1)):s}isDarkColor(){if(this.imageColor){const t=this.imageColor,i=20;return t[0]<=i&&t[1]<=i&&t[2]<=i}return!1}color(){if(this.imageColor){const s=this.imageColor;return"rgb("+s[0]+", "+s[1]+", "+s[2]+")"}if(this.isImage())return"transparent";const t=this.ext(),i=this.icon();return i.color?i.color:C.getColorForText(t)}isImage(){return this.file&&this.file.type!=="image/x-wmf"&&!!this.file.type.match(/image((?!vnd).)*$/i)}isVideo(){return this.file&&this.file.type.indexOf("video")!==-1}isPlayableVideo(){return this.icon().category==="video-playable"}isAudio(){return this.file&&this.file.type.indexOf("audio")!==-1}isPlayableAudio(){return this.icon().category==="audio-playable"}isText(){return this.file&&this.file.type.indexOf("text")!==-1}setUrl(t){return this.urlValue=t,new Promise((i,s)=>{if(this.isImage()){this.resizeImage().then(()=>{i(this)},r=>{i(this)});return}i(this)})}imageResized(t){!t||(this.urlResized=t.url,this.image=t.image,t.image&&t.image.width&&t.image.height&&(this.dimensions.width=t.image.width,this.dimensions.height=t.image.height),this.lastKnownSrc=this.urlResized,this.imageColor=t.color)}resizeImage(){return new Promise((t,i)=>{C.resizeImage(this.thumbnailSize,this.file,this.urlValue,this.calculateAverageColor).then(s=>{this.imageResized(s),t(this)}).catch(i)})}icon(){const t=this.ext();return W(t)}getErrorMessage(t){const i=this.error;return i?(t=t||{},t={common:t.common||"Invalid file.",type:t.type||"Invalid file type.",size:t.size||"Files should not exceed "+this.maxSize+" in size"},i.type?t.type:i.size?t.size:i.upload?this.upload.error?this.upload.error:i.upload:t.common):""}toRaw(){const t=this.raw||{};return t.url=this.url(),t.urlResized=this.urlResized,t.src=this.src(),t.name=this.name(),t.lastModified=this.file.lastModified,t.sizeText=this.size(),t.size=this.file.size,t.type=this.file.type,t.ext=this.ext(),t.color=this.color(),t.file=this.file,t.progress=this.progress(),t.upload=this.upload,"error"in t||Object.defineProperty(t,"error",{get:()=>this.error}),t.dimensions=this.dimensions,t}validate(){const t=C.validateType(this.file,this.accept),i=C.validateSize(this.file,this.maxSize);!t||!i?this.error={type:!t,size:!i}:this.error=!1}}class qe{createError(t,i,s,r){const o=new Error(t);return o.error=!0,i&&(o.code=i),o.request=s,o.response=r,o}settle(t,i,s){const r=o=>o>=200&&o<300;!s.status||!r||r(s.status)?t(s):i(this.createError("Request failed with status code "+s.status,null,s.request,s))}request(t,i,s=null,r){return new Promise((o,l)=>{let a=new XMLHttpRequest;const h="onreadystatechange";a.open(t,i,!0),a[h]=()=>{if(!a||a.readyState!==4||a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0))return;const f=a.getAllResponseHeaders();let d=a.responseText;const u=a.getResponseHeader("Content-Type");if(u&&u.indexOf("application/json")!==-1)d=JSON.parse(d);else try{d=JSON.parse(d)}catch{}const c={data:d,status:a.status===1223?204:a.status,statusText:a.status===1223?"No Content":a.statusText,headers:f,request:a};this.settle(o,l,c),a=null},a.onabort=()=>{!a||(l(this.createError("Request aborted","ECONNABORTED",a)),a=null)},a.onerror=()=>{l(this.createError("Network Error",null,a)),a=null},a.ontimeout=()=>{l(this.createError("timeout exceeded","ECONNABORTED",a)),a=null},typeof r=="function"&&r(a),a.send(s)})}post(t,i,s){return this.request("POST",t,i,s)}delete(t,i,s){return this.request("DELETE",t,i,s)}put(t,i,s){return this.request("PUT",t,i,s)}}const A=new qe;class je{addHeaders(t,i){if(t.setRequestHeader("Accept","application/json"),i)for(const s in i)i.hasOwnProperty(s)&&t.setRequestHeader(s,i[s]);return t}doUpload(t,i,s,r,o){return A.post(t,s,l=>{this.addHeaders(l,i),l.upload.addEventListener("progress",r,!1),typeof o=="function"&&o(l)})}doDeleteUpload(t,i,s,r){return typeof s!="string"&&(s=JSON.stringify(s)),A.delete(t,s,o=>{o.setRequestHeader("Content-Type","application/json"),this.addHeaders(o,i),typeof r=="function"&&r(o)})}doUpdateUpload(t,i,s,r){return typeof s!="string"&&(s=JSON.stringify(s)),A.put(t,s,o=>{o.setRequestHeader("Content-Type","application/json"),this.addHeaders(o,i),typeof r=="function"&&r(o)})}prepareUploadError(t,i,s){let r=i.message;if(i.response&&i.response.data)try{r=i.response.data.error||JSON.parse(i.response.data).error}catch{}t.error||(t.error={}),t.error.upload=r,t.upload.data=void 0,t.upload.error=r,s&&window.setTimeout(()=>{t.error||(t.error={}),t.error.upload=!1,!t.error.size&&!t.error.type&&(t.error=!1)},s)}upload(t,i,s,r,o,l){let a=()=>{};o&&(a=()=>{let d=0;for(const u of s)d+=u.progress();o(d/s.length)});const h=[];let f=0;for(const d of s){let u;typeof r=="function"?u=r(d):(u=new FormData,u.append("file",d.file),u.append("filename",d.name()));const c=this.doUpload(t,i,u,p=>{const m=p.loaded*100/p.total;d.progress(m>=100?99.9999:m),a()},p=>{d.xhr=p,typeof l=="function"&&l(p)});h.push(new Promise((p,m)=>{c.then(b=>{delete d.xhr,d.upload.data=b.data,d.upload.error=!1,d.progress(100),d.xhrQueue&&(d.xhrQueue(),delete d.xhrQueue),p(b)},b=>{this.prepareUploadError(d,b),p(b),f++})}))}return new Promise((d,u)=>{Promise.all(h).then(c=>{if(f===h.length){u(c);return}d(c)},u)})}deleteUpload(t,i,s,r,o){return new Promise((l,a)=>{s.xhr&&s.xhr.abort(),r===void 0&&(r=s.upload.data),r&&this.doDeleteUpload(t,i,r,h=>{typeof o=="function"&&o(h)}).then(h=>{l(h)},h=>{this.prepareUploadError(s,h),a(h)})})}updateUpload(t,i,s,r,o){return new Promise((l,a)=>{if(s.xhr)return s.xhrQueue=()=>{this.updateUpload(t,i,s,r)},l(void 0);r===void 0&&(r=s.upload.data||{},r.old_filename=s.oldFileName,r.filename=s.name()),r&&this.doUpdateUpload(t,i,r,h=>{typeof o=="function"&&o(h)}).then(h=>{s.upload.data=h.data,s.upload.error=!1,l(h)},h=>{this.prepareUploadError(s,h),a(h)})})}doTusUpload(t,i,s,r,o,l,a){const h=l?l(s):{};return new Promise((f,d)=>{if(!t)return d(new Error("tus required. Please install tus-js-client"));const u=s.file,c=new t.Upload(u,{endpoint:i,headers:r,retryDelays:h.retryDelays?h.retryDelays:[0,3e3,5e3,1e4,2e4],metadata:h.metadata?h.metadata:{filename:u.name,filetype:u.type},onError(p){d(p)},onProgress(p,m){o({loaded:p,total:m})},onSuccess(){f(c)},onBeforeRequest:function(p){const m=p.getUnderlyingObject();m.withCredentials=a===!0}});s.tusUpload=c,c.start()})}tusUpload(t,i,s,r,o,l,a){let h=()=>{};o&&(h=()=>{let d=0;for(const u of r)d+=u.progress();o(d/r.length)});const f=[];for(const d of r){const u=this.doTusUpload(t,i,d,s,c=>{const p=c.loaded*100/c.total;d.progress(p>=100?99.9999:p),h()},l,a);u.then(c=>{d.progress(100)},c=>{this.prepareUploadError(d,c)}),f.push(u)}return Promise.all(f)}tusDeleteUpload(t,i,s,r){return new Promise((o,l)=>{if(!t)return l("tus required");if(!r.tusUpload)return o(void 0);const a=h=>new Promise((f,d)=>{r.tusUpload.abort(h,u=>{if(u){this.prepareUploadError(r,u),d(u);return}f(void 0)})});a(!1).then(()=>{window.setTimeout(()=>{a(!0).then(o,l)},1e3)})})}}const k=new je;var H={tus:null};let B=0;const Ge=n.defineComponent({name:"VueFileAgent",components:{VueFileIcon:T,VueFilePreview:P,VueFileList:N,VueFileListItem:L,SlickList:He,SlickItem:ee},directives:{vfaSortableHandle:{beforeMount(e){e.sortableHandle=!0}}},props:{accept:String,auto:{type:Boolean,required:!1,default:void 0},averageColor:Boolean,capture:{type:String,required:!1},compact:Boolean,deletable:Boolean,disabled:Boolean,editable:Boolean,errorText:{type:Object,required:!1},helpText:String,linkable:Boolean,maxFiles:Number,maxSize:String,meta:{type:Boolean,default:!0},multiple:Boolean,read:Boolean,readonly:Boolean,resumable:Boolean,sortable:{type:[String,Boolean]},theme:String,thumbnailSize:Number,uploadConfig:{type:Function,required:!1},uploadHeaders:{type:Object},uploadUrl:String,uploadWithCredentials:Boolean,rawModelValue:Array},emits:["beforedelete","change","delete","drop","rename","select","sort","upload","upload:error","upload:delete","upload:delete:error","upload:update","upload:update:error","update:modelValue","update:rawModelValue"],data(){return{fileRecords:[],rawFileRecords:[],isDragging:!1,isSorting:!1,isSortingActive:!1,transitionDuration:300,overallProgress:0,uniqueId:"",sortTimeout:0}},computed:{withCredentials(){return this.uploadWithCredentials},canAddMore(){return this.hasMultiple?this.maxFiles?this.fileRecords.length<this.maxFiles:!0:this.fileRecords.length===0},helpTextComputed(){return this.helpText?this.helpText:`Choose ${this.hasMultiple?"files":"file"} or drag & drop here`},isDeletable(){return typeof this.deletable=="string"?this.deletable!=="false":!!this.deletable},isSortable(){return!!this.sortable},hasMultiple(){return typeof this.multiple=="string"?this.multiple!=="false":this.multiple===void 0?Array.isArray(this.fileRecords):!!this.multiple},shouldRead(){return this.read},dragOptions(){return{animation:this.transitionDuration,group:this.uniqueId,disabled:this.isSortable,ghostClass:"ghost"}}},watch:{rawModelValue:{handler(){this.checkValue()},deep:!0}},created(){this.uniqueId=new Date().getTime().toString(36)+Math.random().toString(36).slice(2),this.checkValue()},methods:{createThumbnail(e,t){return new Promise((i,s)=>{const r=document.createElement("canvas");C.createVideoThumbnail(t,r,e.thumbnailSize,this.averageColor!==!1,this.withCredentials).then(o=>{e.imageColor=o.color,e.videoThumbnail=o.url,e.dimensions.width=o.width,e.dimensions.height=o.height,i()},s)})},initVideo(e){if(!e.isPlayableVideo())return;const{createObjectURL:t}=window.URL||window.webkitURL||{},{revokeObjectURL:i}=window.URL||window.webkitURL||{},s=document.createElement("video");s.src=t(e.file),this.createThumbnail(e,s).then(()=>{i(s.src)}),s.load()},getFileRecordOrRawInstance(e,t){let i;return e instanceof v?i=this.fileRecords.indexOf(e):i=this.rawFileRecords.indexOf(e),i===-1?e:t?this.rawFileRecords[i]:this.fileRecords[i]},getFileRecordRawInstance(e){return this.getFileRecordOrRawInstance(e,!0)},getFileRecordInstance(e){return this.getFileRecordOrRawInstance(e,!1)},prepareConfigureFn(e){const t=this.uploadWithCredentials;return t!==!0&&t!==!1?e:i=>{i.withCredentials=t,typeof e=="function"&&e(i)}},upload(e,t,i,s,r){const o=[],l=[];for(const a of i){const h=this.getFileRecordInstance(a);h.error||(o.push(h),l.push(this.getFileRecordRawInstance(h)))}return this.resumable?k.tusUpload(H.tus,e,t,o,a=>{this.overallProgress=a},this.resumable===!0?void 0:this.resumable,this.uploadWithCredentials):new Promise((a,h)=>{k.upload(e,t,o,s,f=>{this.overallProgress=f},this.prepareConfigureFn(r)).then(f=>{for(let d=0;d<f.length;d++)f[d].fileRecord=l[d];this.$emit("upload",f),a(f)},f=>{for(let d=0;d<f.length;d++)f[d].fileRecord=l[d];this.$emit("upload:error",f),h(f)})})},deleteUpload(e,t,i,s,r){this.fileRecords.length<1&&(this.overallProgress=0);const o=this.getFileRecordInstance(i),l=this.getFileRecordRawInstance(i);return this.resumable?k.tusDeleteUpload(H.tus,e,t,o):new Promise((a,h)=>{k.deleteUpload(e,t,o,s,this.prepareConfigureFn(r)).then(f=>{f.fileRecord=l,this.$emit("upload:delete",f),a(f)},f=>{f.fileRecord=l,this.$emit("upload:delete:error",f),h(f)})})},updateUpload(e,t,i,s,r){i=this.getFileRecordInstance(i);const o=this.getFileRecordRawInstance(i);return new Promise((l,a)=>{k.updateUpload(e,t,i,s,this.prepareConfigureFn(r)).then(h=>{h.fileRecords=o,this.$emit("upload:update",h),l(h)},h=>{h.fileRecords=o,this.$emit("upload:update:error",h),a(h)})})},autoUpload(e){return!this.uploadUrl||this.auto===!1?Promise.resolve(!1):this.upload(this.uploadUrl,this.uploadHeaders,e,this.uploadConfig)},autoDeleteUpload(e){return!this.uploadUrl||this.auto===!1?Promise.resolve(!1):this.deleteUpload(this.uploadUrl,this.uploadHeaders,e,this.uploadConfig)},autoUpdateUpload(e){return!this.uploadUrl||this.auto===!1?Promise.resolve(!1):this.updateUpload(this.uploadUrl,this.uploadHeaders,e,this.uploadConfig)},equalFiles(e,t){return e.name===t.name&&e.size===t.size&&e.type===t.type&&e.fullPath===t.fullPath&&e.lastModified===t.lastModified},isFileAddedAlready(e){for(const t of this.fileRecords)if(this.equalFiles(e,t.file))return!0;return!1},handleFiles(e){if(this.disabled===!0||this.readonly===!0||this.hasMultiple&&!this.canAddMore)return;const t=[],i=[];for(let s=0;s<e.length;s++)this.hasMultiple&&this.isFileAddedAlready(e[s])||e[s].name.startsWith(".")||i.push(e[s]);e=i,this.hasMultiple&&this.maxFiles&&e.length>this.maxFiles-this.fileRecords.length&&(e=e.slice(0,this.maxFiles-this.fileRecords.length));for(const s of e)t.push(new v({file:s},{read:this.shouldRead,maxSize:this.maxSize,accept:this.accept,thumbnailSize:this.thumbnailSize,averageColor:this.averageColor,withCredentials:this.withCredentials}));for(const s of t)s.file.size<=20*1024*1024&&this.initVideo(s);this.hasMultiple?this.fileRecords.splice(this.fileRecords.length,0,...t):this.fileRecords=t,v.readFiles(t).then(s=>{const r=v.toRawArray(this.fileRecords);this.rawFileRecords=r,this.$emit("update:rawModelValue",this.rawFileRecords),this.$emit("select",s)}),this.autoUpload(t)},filesChanged(e){let t=e.target.files;this.$emit("change",e),t[0]&&(this.hasMultiple||(t=[t[0]]),this.handleFiles(t),this.$refs.fileInput&&(this.$refs.fileInput.value=null))},drop(e){e.stopPropagation(),e.preventDefault(),B=0,this.isDragging=!1,!(this.disabled===!0||this.readonly===!0)&&(!e.dataTransfer||C.getFilesFromDroppedItems(e.dataTransfer).then(t=>{this.$emit("drop",e),!(!t||!t[0])&&(this.hasMultiple||(t=[t[0]]),this.handleFiles(t))}))},dragEnter(e){!e.dataTransfer||(this.isDragging=!0,e.stopPropagation(),e.preventDefault(),B++,e.dataTransfer.dropEffect="copy")},dragOver(e){!e.dataTransfer||(this.isDragging=!0,e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy")},dragLeave(e){!e.dataTransfer||(B--,B===0&&(this.isDragging=!1))},removeFileRecord(e){if(this.$emit("beforedelete",e),!this.uploadUrl||this.auto===!1){const t=this.fileRecords.indexOf(e);t!==-1&&(this.fileRecords.splice(t,1)[0],this.rawFileRecords.splice(t,1)[0],this.$emit("update:rawModelValue",this.rawFileRecords));return}this.deleteFileRecord(e)},dismissError(e){const t=this.fileRecords.indexOf(e);t!==-1&&(this.fileRecords[t].error=!1,this.rawFileRecords[t].error=!1,this.$emit("update:rawModelValue",this.rawFileRecords))},deleteFileRecord(e){const t=this.fileRecords.indexOf(e);let i=this.fileRecords[t],s=this.rawFileRecords[t];this.$emit("update:rawModelValue",this.rawFileRecords),this.$emit("delete",i),i=this.fileRecords.splice(t,1)[0],s=this.rawFileRecords.splice(t,1)[0],this.autoDeleteUpload(i).then(()=>{},()=>{this.fileRecords.splice(t,0,i),this.rawFileRecords.splice(t,0,s)})},filenameChanged(e){const t=this.fileRecords.indexOf(e);this.fileRecords[t]=e,this.rawFileRecords[t]=e.toRaw(),this.$emit("update:rawModelValue",this.rawFileRecords),this.$emit("rename",e),this.autoUpdateUpload(e).then(()=>{},()=>{e.customName=e.oldCustomName,this.rawFileRecords[t]=e.toRaw(),this.$emit("update:rawModelValue",this.rawFileRecords)})},checkValue(){if(this.rawFileRecords===this.rawModelValue){this.$emit("update:modelValue",this.fileRecords);return}let e=this.rawModelValue||[];e=Array.isArray(e)?e:[e];const t=[],i=[];for(let s=0;s<e.length;s++){const r=this.rawFileRecords.indexOf(e[s]);r!==-1?(t.push(v.fromRaw(e[s],{read:this.shouldRead,maxSize:this.maxSize,accept:this.accept,thumbnailSize:this.thumbnailSize,averageColor:this.averageColor,withCredentials:this.withCredentials})),i[s]=this.rawFileRecords[r]):(t.push(v.fromRaw(e[s],{read:this.shouldRead,maxSize:this.maxSize,accept:this.accept,thumbnailSize:this.thumbnailSize,averageColor:this.averageColor,withCredentials:this.withCredentials})),i.push(e[s]))}this.rawFileRecords=i,Promise.all(t).then(s=>{this.fileRecords=s,this.$emit("update:modelValue",this.fileRecords),this.$emit("update:rawModelValue",this.rawFileRecords)})},sortStart(){this.sortTimeout&&window.clearTimeout(this.sortTimeout),this.isSorting=!0,this.isSortingActive=!0},sortEnd(e){this.isSortingActive=!1,this.sortTimeout&&clearTimeout(this.sortTimeout),this.sortTimeout=window.setTimeout(()=>{this.isSorting=!1},this.transitionDuration+100),this.sort(e.oldIndex,e.newIndex)},sort(e,t){if(e!==t){const i=C.arrayMove(this.rawFileRecords,e,t);this.$nextTick(()=>{this.$emit("update:rawModelValue",i),this.$emit("sort",{oldIndex:e,newIndex:t},i)})}}}}),st="",We=["id"],Ke={ref:"thumbnailCanvas",style:{position:"fixed",visibility:"hidden","z-index":"-3"}},Ye={key:"new",class:"file-preview-wrapper grid-box-item grid-block file-preview-new"},Qe={class:"file-preview"},Xe={style:{position:"absolute",top:"0",right:"0",bottom:"0",left:"0"}},Je={class:"help-text"},Ze=["disabled","multiple","accept","capture"];function _e(e,t,i,s,r,o){const l=n.resolveComponent("VueFilePreview"),a=n.resolveComponent("VueFileIcon");return n.openBlock(),n.createElementBlock("div",{id:"vfa-"+e.uniqueId,class:n.normalizeClass(["is-sortable-"+(e.isSortable?"enabled":"disabled"),{"is-sortable-hold":e.sortable==="hold","is-sortable-handle":e.sortable==="handle","is-sortable-immediately":e.sortable===!0,"is-sorting":e.isSorting,"is-sorting-active":e.isSortingActive,"is-drag-over":e.isDragging,"is-disabled":e.disabled===!0,"is-readonly":e.readonly===!0,"is-drag-valid":!(e.disabled===!0||e.readonly===!0||e.hasMultiple&&!e.canAddMore)},"theme-"+e.theme]),onDragover:t[7]||(t[7]=(...h)=>e.dragOver&&e.dragOver(...h)),onDragenter:t[8]||(t[8]=(...h)=>e.dragEnter&&e.dragEnter(...h)),onDragleave:t[9]||(t[9]=(...h)=>e.dragLeave&&e.dragLeave(...h)),onDrop:t[10]||(t[10]=(...h)=>e.drop&&e.drop(...h))},[n.renderSlot(e.$slots,"before-outer"),n.createElementVNode("div",{class:n.normalizeClass(["grid-block-wrapper vue-file-agent file-input-wrapper",{"is-compact":!!e.compact,"is-single":!e.hasMultiple,"has-multiple":e.hasMultiple,"no-meta":e.meta===!1}])},[n.renderSlot(e.$slots,"before-inner"),n.createElementVNode("canvas",Ke,null,512),e.overallProgress?(n.openBlock(),n.createElementBlock("div",{key:0,class:n.normalizeClass(["overall-progress",{"overall-progress-full":e.overallProgress>=100}])},[n.createElementVNode("div",{class:"overall-progress-bar",style:n.normalizeStyle({width:e.overallProgress+"%"})},null,4),n.createElementVNode("div",{class:"overall-progress-left",style:n.normalizeStyle({width:100-e.overallProgress+"%"})},null,4)],2)):n.createCommentVNode("",!0),(n.openBlock(),n.createBlock(n.resolveDynamicComponent(e.isSortable?"SlickList":"VueFileList"),{list:e.fileRecords,"onUpdate:list":t[3]||(t[3]=h=>e.fileRecords=h),axis:e.theme=="list"?"y":"xy","append-to":"#vfa-"+e.uniqueId+" .vue-file-agent","transition-duration":e.transitionDuration,"press-delay":e.sortable==="hold"?200:0,"use-drag-handle":e.sortable==="handle","helper-class":"active-sorting-item",onSortStart:t[4]||(t[4]=h=>e.sortStart()),onSortEnd:t[5]||(t[5]=h=>e.sortEnd(h))},{default:n.withCtx(()=>[n.createVNode(n.TransitionGroup,{name:"grid-box",tag:"div",class:""},{default:n.withCtx(()=>[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(e.fileRecords,(h,f)=>(n.openBlock(),n.createBlock(n.resolveDynamicComponent(e.isSortable?"SlickItem":"VueFileListItem"),{key:h.id,class:"file-preview-wrapper grid-box-item grid-block",index:f},{default:n.withCtx(()=>[n.renderSlot(e.$slots,"file-preview-before",{fileRecord:h,fileData:h}),n.renderSlot(e.$slots,"file-preview",{fileRecord:h,fileData:h},()=>[n.createVNode(l,{"average-color":e.averageColor,"file-record":h,deletable:e.isDeletable,editable:e.editable===!0,linkable:e.linkable===!0,"error-text":e.errorText,disabled:e.disabled,"thumbnail-size":e.thumbnailSize,"with-credentials":e.withCredentials,class:"",onRemove:t[0]||(t[0]=d=>e.removeFileRecord(d)),onRename:t[1]||(t[1]=d=>e.filenameChanged(d)),onDismisserror:t[2]||(t[2]=d=>e.dismissError(d))},null,8,["average-color","file-record","deletable","editable","linkable","error-text","disabled","thumbnail-size","with-credentials"])]),n.renderSlot(e.$slots,"file-preview-after",{fileRecord:h,fileData:h})]),_:2},1032,["index"]))),128)),e.canAddMore&&e.readonly!==!0?n.renderSlot(e.$slots,"file-preview-new",{key:0},()=>[n.createElementVNode("div",Ye,[n.createElementVNode("span",Qe,[n.createElementVNode("span",Xe,[n.createVNode(a,{name:"system-file-preview-new"}),n.createElementVNode("span",Je,n.toDisplayString(e.helpTextComputed),1)])])])]):n.createCommentVNode("",!0)]),_:3})]),_:3},40,["list","axis","append-to","transition-duration","press-delay","use-drag-handle"])),e.readonly!==!0?(n.openBlock(),n.createElementBlock("input",{key:1,ref:"fileInput",title:"",disabled:e.disabled===!0||e.hasMultiple&&!e.canAddMore,type:"file",multiple:e.hasMultiple,class:"file-input",accept:e.accept||"*",capture:e.capture,onChange:t[6]||(t[6]=(...h)=>e.filesChanged&&e.filesChanged(...h))},null,40,Ze)):n.createCommentVNode("",!0),n.renderSlot(e.$slots,"after-inner")],2),n.renderSlot(e.$slots,"after-outer")],42,We)}const te=E(Ge,[["render",_e]]),et={VueFileIcon:T,VueFilePreview:P,VueFileList:N,VueFileListItem:L,VueFileAgent:te},rt="",ie={install(e){Object.entries(et).forEach(([t,i])=>{e.component(t,i)})}};y.VueFileAgent=te,y.VueFileAgentNext=ie,y.VueFileIcon=T,y.VueFileList=N,y.VueFileListItem=L,y.VueFilePreview=P,y.default=ie,y.plugins=H,Object.defineProperties(y,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=vue-file-agent-next.umd.js.map
